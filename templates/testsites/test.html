{% extends 'base.html' %}

{% block title %}
Test site
{% endblock %}

{% block content %}
<div class="container">
    <h1>Task Master <span class="badge badge-primary">{{ tasks|length }} </span> </h1>

    {% if tasks|length == 0 %}
        <h4>There are no tasks. Create one below</h4>
    {% else %}
        <table class="table table-striped table-dark">
            <tr>
                <th>Task</th>
                <th>Added</th>
                <th colspan="2">Actions</th>
            </tr>
            {% for task in tasks %}
            <tr>
                <td>{{ task.content }}</td>
                <td>{{ task.date_created.date() }}</td>
                <td> <a href="/task/delete/{{ task.id }}" style="width: 50%;"><i class="fa fa-close" title="delete" style="color: red"></i></a> </td>
                <td> <a href="/task/update/{{ task.id }}" style="width: 50%;"><i class="fa fa-edit" title="edit" style="color: white; width: 50%;"></i></a> </td>
            </tr>
            {% endfor %}
        </table>
    {% endif %}

    <form action="/test" method="POST" class="form-inline">
        <div class="form-group mx-auto">
            <input type="text" class="form-control mx-2" name="content" id="content">
            <input class="btn btn-primary" type="submit" value="Add Task">
        </div>
    </form>
</div>
{% endblock %}